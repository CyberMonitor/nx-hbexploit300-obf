import Sequences

class Service:
    def __init__(self, handle_ptr, service_str, fatal):
        self.handle_ptr = handle_ptr
        self.service_str = service_str
        self.fatal = fatal

    def generate(self):
        ret = [
            Sequences.Load_X0X1X2X3(self.handle_ptr, self.service_str),
            Sequences.SmGetService(),
        ]
        if self.fatal:
            ret += [
                Sequences.CrashIfResultFailed()
            ]
        return ret
